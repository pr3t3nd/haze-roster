<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Wild Rift Champion Skins Gallery</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #100f2a, #1f1b4a, #15152b); /* Darker, more subtle gradient */
            color: #e0e0e0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1rem; /* Add overall padding */
            overflow-x: hidden; /* Prevent horizontal scroll due to rotations */
        }

        .container {
            max-width: 1200px;
            width: 100%; /* Use full width for responsiveness */
            margin: 0 auto; /* Center the container */
            padding: 1.5rem 0; /* Vertical padding only, let sections handle horizontal */
            background-color: transparent; /* Remove container background for seamless look */
            box-shadow: none; /* Remove container shadow */
            backdrop-filter: none; /* Remove container blur */
            -webkit-backdrop-filter: none;
            border: none; /* Remove container border */
            font-size: 50px;
        }

        .container h4 {
            font-size: 1.2rem; /* Smaller font for subtitle */
            color: #bbb; /* Softer color for subtitle */
            text-align: left;
            margin-bottom: 2rem; /* More space below subtitle */
            color: yellow;
        }

        h1 {
            font-size: 2.8rem; /* Slightly larger title */
            font-weight: 700;
            text-align: center;
            margin-bottom: 3rem; /* More space below title */
            background: linear-gradient(45deg, #a855f7, #6366f1, #ec4899); /* Vibrant purple to pink gradient */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 20px rgba(168, 85, 247, 0.6); /* Stronger glow */
            letter-spacing: 0.05em; /* Add character spacing */
        }

        .role-section {
            margin-bottom: 3rem; /* Spacing between role sections */
            padding: 0 1rem; /* Slight horizontal padding for content within the section */
        }

        .role-title {
            font-size: 2.2rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            text-align: center;
            color: #60a5fa; /* A slightly deeper blue */
            text-shadow: 0 0 12px rgba(96, 165, 250, 0.6);
            padding-bottom: 0.75rem;
            border-bottom: 2px solid rgba(96, 165, 250, 0.3); /* Subtle separator */
            display: inline-block;
            width: fit-content;
            margin-left: auto;
            margin-right: auto;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            position: relative;
            z-index: 1; /* Ensure title is above potential background elements */
        }
        .role-title::before {
            content: '';
            position: absolute;
            bottom: -2px; /* Position it at the bottom of the underline */
            left: 50%;
            transform: translateX(-50%);
            width: 80%; /* Shorter line */
            height: 2px;
            background: linear-gradient(90deg, transparent, #60a5fa, transparent); /* Fading gradient line */
            z-index: -1;
            opacity: 0.7;
        }

        .hard-counter-title {
            color: #ff4d4d; /* Red for hard counter */
            text-shadow: 0 0 12px rgba(255, 77, 77, 0.6);
            border-color: rgba(255, 77, 77, 0.3);
        }
        .hard-counter-title::before {
            background: linear-gradient(90deg, transparent, #ff4d4d, transparent);
        }


        .skin-grid {
            display: grid;
            /* Adjust minmax to allow more cards per row based on screen size */
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 1rem; /* Adjusted gap for better spacing */
            justify-content: center;
            align-items: stretch; /* Ensure cards stretch to fill grid area */
            padding: 0.5rem 0; /* Slight vertical padding for the grid */
        }

        .skin-card {
            background-color: rgba(255, 255, 255, 0.08); /* Slightly less opaque card background */
            border-radius: 0.75rem; /* Smaller border-radius */
            overflow: hidden; /* Keep overflow hidden for images */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); /* Softer, more diffused shadow */
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out, z-index 0.1s;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            position: relative; /* Allow for relative positioning for overlap */
            border: 1px solid rgba(255, 255, 255, 0.08); /* Initial subtle border */
            will-change: transform, box-shadow; /* Optimize animations */

            /* Default to a simple rectangle - clip-path variations removed */
            clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
        }

        .skin-card:hover {
            transform: translateY(-8px) scale(1.02); /* Slight lift and scale, no Y-rotation for consistency */
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5), 0 0 20px rgba(168, 85, 247, 0.7); /* Stronger, colored glow */
            border-color: rgba(168, 85, 247, 0.6); /* Border highlights on hover */
            z-index: 10; /* Bring to front on hover */
        }

        .skin-card img {
            width: 100%;
            height: 200px; /* Adjusted height for more compact layout */
            object-fit: cover;
            transition: transform 0.3s ease-in-out, filter 0.3s ease-in-out;
            filter: brightness(0.95); /* Less initial dimming */
        }

        .skin-card:hover img {
            transform: scale(1.03); /* Slight zoom on image */
            filter: brightness(1.1); /* Brighter on hover */
        }

        .skin-info {
            padding: 0.75rem; /* Reduced padding */
            width: 100%;
            background-color: rgba(0, 0, 0, 0.45); /* Slightly darker info background */
        }

        .skin-info h3 {
            font-size: 1.1rem; /* Slightly smaller font */
            font-weight: 600;
            color: #fff;
            margin-bottom: 0.2rem;
        }

        .skin-info p {
            font-size: 0.8rem; /* Slightly smaller font */
            color: #bbb;
        }

        /* Modal Styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85); /* Slightly darker overlay */
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }

        .modal.open {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background-color: #1a1a2e; /* Darker modal background */
            padding: 2rem; /* More padding */
            border-radius: 1.25rem; /* Larger border-radius */
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.8); /* Stronger shadow */
            max-width: 90%;
            max-height: 90%;
            overflow: auto;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            border: 1px solid rgba(255, 255, 255, 0.15); /* Subtle modal border */
        }

        .modal-content img {
            max-width: 100%;
            height: auto;
            border-radius: 0.75rem;
            margin-bottom: 1.5rem; /* More space below image */
            display: block;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4); /* Shadow for modal image */
        }

        .modal-info h3 {
            font-size: 2rem;
            font-weight: 700;
            color: #fff;
            margin-bottom: 0.75rem;
        }

        .modal-info p {
            font-size: 1.15rem;
            color: #ccc;
        }

        .close-button {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 2.2rem; /* Larger close button */
            color: #fff;
            cursor: pointer;
            transition: color 0.2s ease-in-out, transform 0.2s ease-in-out;
        }

        .close-button:hover {
            color: #ff3333; /* More intense red */
            transform: scale(1.1);
        }

        /* Styles for the Matchup Picker */
        .matchup-picker-section {
            margin-bottom: 3rem;
            padding: 0 1rem;
            text-align: center;
        }

        .matchup-picker-section label {
            font-size: 1.5rem;
            font-weight: 600;
            color: #e0e0e0;
            margin-bottom: 1rem;
            display: block;
        }

        .matchup-picker-section select {
            background-color: rgba(255, 255, 255, 0.1);
            color: #e0e0e0;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 0.5rem;
            padding: 0.75rem 1rem;
            font-size: 1.1rem;
            width: 100%;
            max-width: 300px;
            appearance: none; /* Remove default select arrow */
            -webkit-appearance: none;
            -moz-appearance: none;
            cursor: pointer;
            outline: none;
            transition: border-color 0.3s ease, background-color 0.3s ease;
        }

        .matchup-picker-section select:focus {
            border-color: #a855f7;
            background-color: rgba(255, 255, 255, 0.15);
        }

        .matchup-picker-section select option {
            background-color: #1a1a2e;
            color: #e0e0e0;
        }

        /* Style for the "Back to All Champions" button */
        #reset-matchup-button {
            background-color: #6366f1; /* Purple */
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            margin-top: 1.5rem;
            transition: background-color 0.3s ease, transform 0.2s ease;
            display: none; /* Hidden by default */
        }

        #reset-matchup-button:hover {
            background-color: #4f53d0;
            transform: translateY(-2px);
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.2rem;
                margin-bottom: 2rem;
            }
            .role-title {
                font-size: 1.8rem;
                margin-bottom: 1rem;
            }
            .skin-grid {
                grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); /* Further adjustment for smaller screens */
                gap: 0.8rem;
            }
            .skin-card img {
                height: 160px;
            }
            .skin-info h3 {
                font-size: 1rem;
            }
            .skin-info p {
                font-size: 0.75rem;
            }
            .modal-content {
                padding: 1.2rem;
            }
            .modal-info h3 {
                font-size: 1.6rem;
            }
            .modal-info p {
                font-size: 1rem;
            }
            .close-button {
                font-size: 1.8rem;
            }
            .matchup-picker-section label {
                font-size: 1.2rem;
            }
            .matchup-picker-section select {
                font-size: 1rem;
                padding: 0.6rem 0.8rem;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.8rem;
                margin-bottom: 1.5rem;
            }
            .role-title {
                font-size: 1.5rem;
            }
            .skin-grid {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); /* Smallest screen adjustment */
                gap: 0.6rem;
            }
            .skin-card img {
                height: 140px;
            }
            .skin-info h3 {
                font-size: 0.9rem;
            }
            .skin-info p {
                font-size: 0.7rem;
            }
            .modal-content {
                padding: 0.8rem;
            }
            .modal-info h3 {
                font-size: 1.4rem;
            }
            .modal-info p {
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>My Wild Rift Champion Roster</h1>

        <h4>Player: HAZE
        <br>Server: EUW
        <br>Main Role: Top
        <br>Secondary: ADC </h4>

        <div class="matchup-picker-section">
            <label for="enemy-champion-select">Select Enemy Champion for Matchup:</label>
            <select id="enemy-champion-select">
                <option value="">-- Select a Champion --</option>
                </select>
            <button id="reset-matchup-button">Back to All Champions</button>
        </div>

        <div id="gallery-container">
            </div>
    </div>

    <div id="skin-modal" class="modal">
        <div class="modal-content">
            <button class="close-button" id="close-modal">&times;</button>
            <img id="modal-image" src="" alt="Skin Splash Art">
            <div class="modal-info">
                <h3 id="modal-champion-name"></h3>
                <p id="modal-skin-name"></p>
                <p id="modal-role"></p>
            </div>
        </div>
    </div>

    <script>
        // Array of champion skins with their details
        // IMPORTANT: Replace the 'imageUrl' with your actual splash art links.
        // For best results, download the high-resolution splash arts and host them.
        const champions = [
            // Toplane
            { role: 'Toplane', name: 'Gwen', skin: 'Stargazer', imageUrl: 'https://i.redd.it/r3wkx9h9qyqd1.png'},
            { role: 'Toplane', name: 'Riven', skin: 'Spirit Blossom', imageUrl: 'https://c4.wallpaperflare.com/wallpaper/264/117/292/league-of-legends-spirit-blossom-riven-league-of-legends-riven-pc-gaming-hd-wallpaper-preview.jpg'},
            { role: 'Toplane', name: 'Kayle', skin: 'PsyOps', imageUrl: 'https://turbosmurfs.gg/storage/splash/Kayle_15.jpg'},
            { role: 'Toplane', name: 'Rumble', skin: 'Badlands', imageUrl: 'https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhrBDmDZSOwVO6_QqauMHkBlf215B8nifaivNdrwWYpkJc7npp73h74-_cckFHoMxioTdhfGaFfNBOv1zc85vvpQuzLHxmVOeF4UcepK7OOVR17QuUGACQ_vDWnpbWLCYW-wAFTiA5bPv4/s1600/68004.jpg'},
            { role: 'Toplane', name: 'Ambessa', skin: 'Chosen of the WOLF', imageUrl: 'https://preview.redd.it/chosen-of-the-wolf-ambessa-splash-art-v0-pir7oislsixd1.jpeg?auto=webp&s=e5078c0944457c98485c370a2caeb3b1b9884f05'},
            { role: 'Toplane', name: 'Jax', skin: 'Stargazer', imageUrl: 'https://i.redd.it/stargazer-jax-3d-model-wild-rift-rumor-legendary-v0-oesfuyt87zlb1.jpg?width=1918&format=pjpg&auto=webp&s=5f9379d341b11afdabb245c551cc5bcffa6316fe'}, // Placeholder for local file
            { role: 'Toplane', name: 'Fiora', skin: 'Lunar Beast', imageUrl: 'https://raw.communitydragon.org/pbe/plugins/rcp-be-lol-game-data/global/default/assets/characters/fiora/skins/skin50/images/fiora_splash_centered_50.jpg'},
            { role: 'Toplane', name: 'Akali', skin: 'K/DA', imageUrl: 'https://i.pinimg.com/originals/e5/f0/07/e5f007778c849bf1e28820ed0e30d0d9.jpg'},

            // Jungle
            { role: 'Jungle', name: 'Kayn', skin: 'Heartsteel', imageUrl: 'https://raw.communitydragon.org/pbe/plugins/rcp-be-lol-game-data/global/default/assets/characters/kayn/skins/skin20/images/kayn_splash_centered_20.jpg'},
            { role: 'Jungle', name: 'Evelynn', skin: 'Coven', imageUrl: 'https://cdna.artstation.com/p/assets/images/images/039/755/068/large/alex-flores-evelynncoven-final-alexflores2b2.jpg?1626841040'},
            { role: 'Jungle', name: 'Morgana', skin: 'Coven', imageUrl: 'https://cdnb.artstation.com/p/assets/images/images/025/599/985/large/alex-flores-morgana-coven-final-alexflores.jpg?1586312383'},
            { role: 'Jungle', name: 'Wukong', skin: 'Jade Dragon', imageUrl: 'https://i.redd.it/y0drjx433tk71.jpg'},
            { role: 'Jungle', name: 'Xin Zhao', skin: 'Cosmic Defender', imageUrl: 'https://raw.communitydragon.org/pbe/plugins/rcp-be-lol-game-data/global/default/assets/characters/xinzhao/skins/skin20/images/xinzhao_splash_centered_20.jpg'},
            { role: 'Jungle', name: 'Kha\'Zix', skin: 'Dark Star', imageUrl: 'https://turbosmurfs.gg/storage/splash/Khazix_4.jpg'},
            { role: 'Jungle', name: 'Shyvanna', skin: 'Immortal Journey', imageUrl: 'https://preview.redd.it/immortal-journey-shyvana-ruby-chroma-splash-art-v0-6lotfzodf5ce1.jpeg?auto=webp&s=d56ad72d623f4251d887b69689cc33766be585e2'},
            { role: 'Jungle', name: 'Viego', skin: 'Arcade', imageUrl: 'https://preview.redd.it/arcade-viego-splash-art-hd-v0-nn3dipudbgwc1.jpeg?auto=webp&s=a89e381c1df1a5d514528636330a62bcaaca8d78'},

            // Midlane
            { role: 'Midlane', name: 'Zed', skin: 'Galaxy Slayer', imageUrl: 'https://raw.communitydragon.org/pbe/plugins/rcp-be-lol-game-data/global/default/assets/characters/zed/skins/skin13/images/zed_splash_centered_13.jpg'},
            { role: 'Midlane', name: 'Orianna', skin: 'Weather Entity', imageUrl: 'https://preview.redd.it/weather-entity-orianna-v0-ops5mbch07we1.png?auto=webp&s=17b8dd9a8ceca54a0f92073e283bcbfe3619093b'},
            { role: 'Midlane', name: 'Yone', skin: 'Spirit Blossom', imageUrl: 'https://cdnb.artstation.com/p/assets/images/images/028/948/949/large/bo-chen-spirit-blossom-yone-final1920-pix.jpg?1596007358'},
            { role: 'Midlane', name: 'Ahri', skin: 'Spirit Blossom', imageUrl: 'https://images.steamusercontent.com/ugc/2026100532603250184/F6927A9FEB70B1F44142484DE253E2ABB51094E6/?imw=512&&ima=fit&impolicy=Letterbox&imcolor=%23000000&letterbox=false'},
            { role: 'Midlane', name: 'Katarina', skin: 'Battle Academia', imageUrl: 'https://turbosmurfs.gg/storage/splash/Katarina_12.jpg'},
            { role: 'Midlane', name: 'Teemo', skin: 'Battle Bunny Aurora', imageUrl: 'https://www.mobafire.com/images/champion/skins/landscape/aurora-battle-bunny-762x.jpg'}, // Changed from Spirit Blossom Teemo
            { role: 'Midlane', name: 'Zoe', skin: 'Star Guardian', imageUrl: 'https://r2.rankedkings.com/lol/splashes/142009.jpg'},
            { role: 'Midlane', name: 'Yasuo', skin: 'Soulfighter', imageUrl: 'https://cdnb.artstation.com/p/assets/images/images/065/371/009/large/envar-studio-wildrift-soul-fighter-yasuo-final.jpg?1690213997'}, // Replaced Zyra with Yasuo

            // ADC
            { role: 'ADC', name: 'Varus', skin: 'Fiend Queller', imageUrl: 'https://i.redd.it/fiend-queller-varus-splash-art-chroma-splash-art-wild-rift-v0-ix4lbk04m3nd1.jpg?width=2000&format=pjpg&auto=webp&s=bab9d7c4c4aff9388b93a68811339dae30724553'},
            { role: 'ADC', name: 'Kai\'Sa', skin: 'Lagoon', imageUrl: 'https://turbosmurfs.gg/storage/splash/Kaisa_29.jpg'},
            { role: 'ADC', name: 'Tristana', skin: 'Dragon Trainer', imageUrl: 'https://wiki.leagueoflegends.com/en-us/images/Tristana_DragonTrainerSkin.jpg?9e9b1'},
            { role: 'ADC', name: 'Ashe', skin: 'High Noon', imageUrl: 'https://turbosmurfs.gg/storage/splash/Ashe_17.jpg'},
            { role: 'ADC', name: 'Jinx', skin: 'Star Guardian', imageUrl: 'https://turbosmurfs.gg/storage/splash/Jinx_4.jpg'}, // Replaced Samira with Jinx
            { role: 'ADC', name: 'Ezreal', skin: 'Battle Academia', imageUrl: 'https://turbosmurfs.gg/storage/splash/Ezreal_21.jpg'},
            { role: 'ADC', name: 'Vayne', skin: 'Sentinel', imageUrl: 'https://r2.rankedkings.com/lol/splashes/67025.jpg'},
            { role: 'ADC', name: 'Jhin', skin: 'Blood Moon', imageUrl: 'https://preview.redd.it/6ewt085xd7131.jpg?auto=webp&s=01fbb7d4db7699e59ed0843eb49321b79320fbe9'},

            // Support
            { role: 'Support', name: 'Pyke', skin: 'Sand Wraith', imageUrl: 'https://r2.rankedkings.com/lol/splashes/555001.jpg'},
            { role: 'Support', name: 'Karma', skin: 'Dawnbringer', imageUrl: 'https://www.riotgames.com/darkroom/1000/d8b51b2811cd8adc74b21cd14cbd3bee:5d689f36d8a785e81e1196a151b9c09c/00-karma-header.png'},
            { role: 'Support', name: 'Thresh', skin: 'Spirit Blossom', imageUrl: 'https://turbosmurfs.gg/storage/splash/Thresh_17.jpg'},
            { role: 'Support', name: 'Zyra', skin: 'Coven', imageUrl: 'https://turbosmurfs.gg/storage/splash/Zyra_5.jpg'}
        ];

        // All possible Wild Rift champions for the matchup picker
        const allWildRiftChampions = [
            "AATROX", "AHRI", "AKALI", "AKSHAN", "ALISTAR", "AMBESSA", "AMUMU", "ANNIE", "ASHE", "AURELION SOL",
            "BLITZCRANK", "BRAND", "BRAUM", "CAITLYN", "CAMILLE", "CORKI", "DARIUS", "DIANA", "DR. MUNDO", "DRAVEN",
            "EKKO", "EVELYNN", "EZREAL", "FIDDLESTICKS", "FIORA", "FIZZ", "GALIO", "GAREN", "GNAR", "GRAGAS",
            "GRAVES", "GWEN", "HECARIM", "HEIMERDINGER", "IRELIA", "JANNA", "JARVAN IV", "JAX", "JAYCE", "JHIN",
            "JINX", "KAI'SA", "KALISTA", "KARMA", "KASSADIN", "KATARINA", "KAYLE", "KAYN", "KENNEN", "KHA'ZIX",
            "KINDRED", "LEE SIN", "LEONA", "LILLIA", "LISSANDRA", "LUCIAN", "LULU", "LUX", "MALPHITE", "MAOKAI",
            "MASTER YI", "MILIO", "MISS FORTUNE", "MORDEKAISER", "MORGANA", "NAMI", "NASUS", "NAUTILUS", "NILAH", "NOCTURNE",
            "NUNU & WILLUMP", "OLAF", "ORIANNA", "ORNN", "PANTHEON", "POPPY", "PYKE", "RAKAN", "RAMMUS", "RENEKTON",
            "RENGAR", "RIVEN", "RUMBLE", "RYZE", "SAMIRA", "SENNA", "SERAPHINE", "SETT", "SHEN", "SHYVANA",
            "SINGED", "SION", "SIVIR", "SONA", "SORAKA", "SWAIN", "SYNDRA", "TALON", "TEEMO", "THRESH",
            "TRISTANA", "TRYNDAMERE", "TWISTED FATE", "TWITCH", "URGOT", "VARUS", "VAYNE", "VEIGAR", "VEX", "VI",
            "VIEGO", "VIKTOR", "VLADIMIR", "VOLIBEAR", "WARWICK", "WUKONG", "XAYAH", "XIN ZHAO", "YASUO", "YONE",
            "YUUMI", "ZED", "ZERI", "ZIGGS", "ZILEAN", "ZOE"
        ].sort(); // Sort alphabetically for the dropdown

        // Matchup data: Maps enemy champion (lowercase) to an object with 'normal' and 'hard_counter' arrays.
        // If only 'normal' picks exist, you can just use ['YourGoodPick1', ...] directly as before.
        // The script will adapt.
        const matchupData = {
            'aatrox': ['Gwen', 'Jax', 'Fiora'],
            'ahri': ['Zed', 'Katarina', 'Fizz'],
            'akali': ['Yasuo', 'Katarina', 'Fizz'],
            'ashe': ['Jinx', 'Kai\'Sa', 'Ezreal'],
            'blitzcrank': ['Morgana', 'Thresh', 'Alistar'],
            'camille': ['Jax', 'Gwen', 'Fiora'],
            'darius': ['Gwen', 'Kayle', 'Teemo'],
            'diana': ['Yasuo', 'Zed', 'Akali'],
            'ezreal': ['Jinx', 'Vayne', 'Jhin'],
            'fiora': ['Gwen', 'Jax', 'Camille'],
            'garen': ['Kayle', 'Teemo', 'Gwen'],
            'graves': ['Shyvanna', 'Xin Zhao', 'Kha\'Zix'],
            'gwen': ['Jax', 'Camille', 'Irelia'],
            'irelia': ['Jax', 'Renekton', 'Gwen'],
            'jhin': ['Jinx', 'Kai\'Sa', 'Ezreal'],
            'jinx': ['Varus', 'Kai\'Sa', 'Vayne'],
            'kaisa': ['Jinx', 'Vayne', 'Tristana'],
            'katarina': ['Orianna', 'Zed', 'Fizz'],
            'kayle': ['Gwen', 'Camille', 'Irelia'],
            'kayn': ['Evelynn', 'Xin Zhao', 'Kha\'Zix'],
            'kennen': ['Irelia', 'Camille', 'Jax'],
            'kha\'zix': ['Xin Zhao', 'Evelynn', 'Kayn'],
            'lee sin': ['Xin Zhao', 'Kha\'Zix', 'Kayn'],
            'lucian': ['Vayne', 'Jinx', 'Jhin'],
            'lux': ['Zed', 'Fizz', 'Katarina'],
            'master yi': ['Jax', 'Wukong', 'Xin Zhao'],
            'miss fortune': ['Kai\'Sa', 'Jinx', 'Tristana'],
            'morgana': ['Thresh', 'Karma', 'Pyke'],
            'nautilus': ['Morgana', 'Thresh', 'Karma'],
            'olaf': ['Gwen', 'Kayle', 'Camille'],
            'orianna': ['Zed', 'Fizz', 'Yasuo'],
            'pyke': ['Thresh', 'Braum', 'Karma'],
            'riven': ['Gwen', 'Jax', 'Camille'],
            'samira': ['Kai\'Sa', 'Vayne', 'Jinx'],
            'sett': ['Gwen', 'Kayle', 'Camille'],
            'shyvana': ['Xin Zhao', 'Kayn', 'Evelynn'],
            'teemo': ['Irelia', 'Camille', 'Akali'],
            'thresh': ['Morgana', 'Braum', 'Karma'],
            'tristana': ['Vayne', 'Ezreal', 'Jinx'],
            'varus': ['Kai\'Sa', 'Jinx', 'Ezreal'],
            'vayne': ['Jhin', 'Ashe', 'Ezreal'],
            'viego': ['Xin Zhao', 'Kha\'Zix', 'Kayn'],
            'wukong': ['Gwen', 'Jax', 'Camille'],
            'xinzhao': ['Shyvanna', 'Kha\'Zix', 'Kayn'],
            'yasuo': ['Irelia', 'Katarina', 'Zed'],
            'yone': ['Zed', 'Katarina', 'Fizz'],
            'zed': { // Example with hard counter
                'normal': ['Orianna', 'Fizz', 'Katarina'],
                'hard_counter': ['Yasuo']
            },
            'zoe': ['Fizz', 'Zed', 'Katarina'],
            'zyra': ['Thresh', 'Karma', 'Pyke']
            // Add more matchups here, using the 'normal' and 'hard_counter' structure if needed
        };


        const galleryContainer = document.getElementById('gallery-container');
        const skinModal = document.getElementById('skin-modal');
        const modalImage = document.getElementById('modal-image');
        const modalChampionName = document.getElementById('modal-champion-name');
        const modalSkinName = document.getElementById('modal-skin-name');
        const modalRole = document.getElementById('modal-role');
        const closeModalButton = document.getElementById('close-modal');
        const enemyChampionSelect = document.getElementById('enemy-champion-select');
        const resetMatchupButton = document.getElementById('reset-matchup-button');

        // Function to generate a random rotation degree
        function getRandomRotation() {
            return (Math.random() * 8) - 4; // Between -4 and +4 degrees
        }

        // Function to generate a random Z-index to control overlap order
        function getRandomZIndex() {
            return Math.floor(Math.random() * 5); // 0 to 4
        }

        // Function to render a section of champions (either normal or hard counter)
        function renderChampionSection(title, championsList, isHardCounter = false) {
            if (championsList.length === 0) return; // Don't render empty sections

            const sectionDiv = document.createElement('div');
            sectionDiv.className = 'role-section';

            const sectionTitle = document.createElement('h2');
            sectionTitle.className = `role-title ${isHardCounter ? 'hard-counter-title' : ''}`;
            sectionTitle.textContent = title;
            sectionDiv.appendChild(sectionTitle);

            const skinGrid = document.createElement('div');
            skinGrid.className = 'skin-grid';

            // Sort champions alphabetically by name for consistency
            championsList.sort((a, b) => a.name.localeCompare(b.name)).forEach(champ => {
                const skinCard = document.createElement('div');
                skinCard.className = `skin-card`;
                skinCard.style.transform = `rotate(${getRandomRotation()}deg)`;
                skinCard.style.zIndex = getRandomZIndex();
                skinCard.style.marginLeft = `${(Math.random() * 10) - 5}px`;
                skinCard.style.marginTop = `${(Math.random() * 10) - 5}px`;

                skinCard.dataset.champion = champ.name;
                skinCard.dataset.skin = champ.skin;
                skinCard.dataset.role = champ.role;
                skinCard.dataset.imageUrl = champ.imageUrl;

                skinCard.innerHTML = `
                    <img src="${champ.imageUrl}" alt="${champ.skin} ${champ.name} Splash Art" onerror="this.onerror=null;this.src='https://placehold.co/400x600/666/e0e0e0?text=Image+Unavailable';">
                    <div class="skin-info">
                        <h3>${champ.name}</h3>
                        <p>${champ.skin}</p>
                    </div>
                `;
                skinGrid.appendChild(skinCard);

                skinCard.addEventListener('click', () => {
                    modalImage.src = champ.imageUrl;
                    modalImage.alt = `${champ.skin} ${champ.name} Splash Art`;
                    modalChampionName.textContent = champ.name;
                    modalSkinName.textContent = champ.skin;
                    modalRole.textContent = `Role: ${champ.role}`;
                    skinModal.classList.add('open');
                });
            });
            sectionDiv.appendChild(skinGrid);
            galleryContainer.appendChild(sectionDiv);
        }

        // Function to render the gallery based on a filtered list of champions
        function renderGallery(filteredChampions = champions, showMatchupSpecific = false, matchupInfo = null) {
            galleryContainer.innerHTML = ''; // Clear existing content

            if (showMatchupSpecific && matchupInfo) {
                // Render Hard Counter section first if available
                if (matchupInfo.hard_counter && matchupInfo.hard_counter.length > 0) {
                    const hardCounterChamps = champions.filter(champ =>
                        matchupInfo.hard_counter.includes(champ.name)
                    );
                    renderChampionSection('Hard Counter Picks', hardCounterChamps, true);
                }

                // Render Normal Counter Picks if available
                if (matchupInfo.normal && matchupInfo.normal.length > 0) {
                    const normalCounterChamps = champions.filter(champ =>
                        matchupInfo.normal.includes(champ.name)
                    );
                    renderChampionSection('Recommended Picks', normalCounterChamps);
                }

                if ((!matchupInfo.normal || matchupInfo.normal.length === 0) && (!matchupInfo.hard_counter || matchupInfo.hard_counter.length === 0)) {
                    galleryContainer.innerHTML = '<p class="text-center text-lg text-gray-400">No specific counter picks from your roster for this champion. Showing all your champions.</p>';
                    renderGallery(champions, false); // Fallback to showing all if no specific picks
                }

            } else {
                // Group champions by role
                const roles = {};
                filteredChampions.forEach(champ => {
                    if (!roles[champ.role]) {
                        roles[champ.role] = [];
                    }
                    roles[champ.role].push(champ);
                });

                // Get a sorted list of roles
                const sortedRoles = Object.keys(roles).sort((a, b) => {
                    const order = ['Toplane', 'Jungle', 'Midlane', 'ADC', 'Support'];
                    return order.indexOf(a) - order.indexOf(b);
                });

                // Iterate over roles and create sections
                sortedRoles.forEach(role => {
                    renderChampionSection(`${role} Champions`, roles[role]);
                });
            }
        }

        // Function to populate the enemy champion select dropdown
        function populateEnemyChampionSelect() {
            allWildRiftChampions.forEach(champ => {
                const option = document.createElement('option');
                option.value = champ.toLowerCase(); // Use lowercase for consistency with matchupData
                option.textContent = champ;
                enemyChampionSelect.appendChild(option);
            });
        }

        // Event listener for the enemy champion select dropdown
        enemyChampionSelect.addEventListener('change', (event) => {
            const selectedEnemyChampion = event.target.value;
            if (selectedEnemyChampion) {
                const matchup = matchupData[selectedEnemyChampion];
                let normalPicks = [];
                let hardCounterPicks = [];

                if (matchup) {
                    if (Array.isArray(matchup)) { // Old format: just an array of normal picks
                        normalPicks = matchup;
                    } else if (typeof matchup === 'object') { // New format: object with normal and hard_counter
                        normalPicks = matchup.normal || [];
                        hardCounterPicks = matchup.hard_counter || [];
                    }
                }

                const combinedMatchupInfo = {
                    normal: normalPicks,
                    hard_counter: hardCounterPicks
                };

                renderGallery(champions, true, combinedMatchupInfo);
                resetMatchupButton.style.display = 'block'; // Show the reset button
            } else {
                renderGallery(champions); // Show all champions if "Select a Champion" is chosen
                resetMatchupButton.style.display = 'none'; // Hide the reset button
            }
        });

        // Event listener for the "Back to All Champions" button
        resetMatchupButton.addEventListener('click', () => {
            enemyChampionSelect.value = ''; // Reset the dropdown
            renderGallery(champions); // Render all champions
            resetMatchupButton.style.display = 'none'; // Hide the button
        });

        // Event listener for closing the modal
        closeModalButton.addEventListener('click', () => {
            skinModal.classList.remove('open');
        });

        // Close modal if clicking outside the content
        skinModal.addEventListener('click', (event) => {
            if (event.target === skinModal) {
                skinModal.classList.remove('open');
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape' && skinModal.classList.contains('open')) {
                skinModal.classList.remove('open');
            }
        });

        // Render the gallery and populate the dropdown when the page loads
        window.onload = () => {
            populateEnemyChampionSelect();
            renderGallery();
        };
    </script>
</body>
</html>